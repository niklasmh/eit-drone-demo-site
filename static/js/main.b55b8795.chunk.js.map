{"version":3,"sources":["Demo.js","Page.js","Jump.js","Tabs.js","FadeInBlock.js","App.js","serviceWorker.js","index.js"],"names":["DemoMap","withScriptjs","withGoogleMap","props","react_default","a","createElement","lib","options","draggable","onClick","defaultZoom","defaultCenter","lat","lng","paths","droneLines","markers","persons","ambulances","drones","position","stations","defaultIcon","url","anchor","x","y","scaledSize","width","height","Demo","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","selectedPoint","situations","type","timeInterval","maxAmbulances","maxDronesPerStation","speedup","ambulanceSpeed","droneSpeed","stationIcon","droneIcon","ambulanceIcon","typeIcons","heroin","stroke","strokeFixed","evt","_this2","latLng","setState","objectSpread","window","google","maps","DirectionsService","route","origin","LatLng","destination","travelMode","TravelMode","DRIVING","path","status","DirectionsStatus","OK","slice","stationIndex","_this2$nearestStation","nearestStation","index","stationDist","dist","routes","legs","distance","value","push","time","done","waitForAmbulance","filter","s","totalDistance","length","drone","station","progress","totalDuration","duration","pointsInPath","overview_path","_this$nearestStation","_this3","minDist","Infinity","minIndex","forEach","i","geometry","spherical","computeDistanceBetween","_this4","setInterval","ambulancesNotUsed","map","e","doneWaiting","direction","droneDirection","droneOnStart","_this5","key","directions","preserveViewport","suppressMarkers","icon","Math","min","parseInt","offset","lat2","lng2","className","name","defaultChecked","id","onChange","handleRadioSelect","htmlFor","selected","bind","googleMapURL","loadingElement","style","containerElement","flex","display","flexDirection","mapElement","Component","Page","assign","color","concat","page","ref","refCallback","children","Jump","href","to","content","Tabs","nextProps","scroll","left","rect","getBoundingClientRect","offsetWidth","scrollLeft","getRef","FadeInBlock","title","App","showDemo","pagePositions","pages","tabs","refPage","assertThisInitialized","refTab","hasMounted","top","getAttribute","document","documentElement","scrollTop","tab","addEventListener","handleScroll","location","hash","setTimeout","scrollToComponent","align","removeEventListener","scrollY","prevPage","currentPage","ease","Page_Page","alt","src","Tabs_Tabs","split","Jump_Jump","FadeInBlock_FadeInBlock","side","padding","Demo_Demo","Boolean","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b55b8795.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport {\n  withScriptjs,\n  withGoogleMap,\n  GoogleMap,\n  Marker,\n  DirectionsRenderer,\n  Polyline,\n} from 'react-google-maps'\nimport './Demo.css'\n\n/**\n * TODO:\n *\n * - [x] Telle ned droner som er ferdig\n * - [x] Logo\n * - [x] Støtte 2 typer;\n *    - [x] heroin: bare drone,\n *    - [x] infarkt: ambulanse og drone (om kjappest)\n * - [x] Gjøre at ambulanse kjøres for å ta resten av de som venter\n */\n\nconst DemoMap = withScriptjs(\n  withGoogleMap(props => (\n    <GoogleMap\n      options={{ draggable: false }}\n      onClick={props.onClick}\n      defaultZoom={12}\n      defaultCenter={{ lat: 63.4189785, lng: 10.4026859 }}\n    >\n      {props.paths}\n      {props.droneLines}\n      {props.markers}\n      {props.persons}\n      {props.ambulances}\n      {props.drones}\n      <Marker\n        position={props.stations[0]}\n        defaultIcon={{\n          url:\n            'http://icons.iconarchive.com/icons/icons-land/gis-gps-map/256/Hospital-icon.png',\n          anchor: { x: 25, y: 25 },\n          scaledSize: { width: 50, height: 50 },\n        }}\n      />\n    </GoogleMap>\n  )),\n)\n\nexport default class Demo extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selectedPoint: { lat: 0, lng: 0 },\n      situations: [],\n      stations: [\n        { drones: 0, lat: 63.420457, lng: 10.3904378 },\n        { drones: 0, lat: 63.4173341, lng: 10.3540778 },\n        { drones: 0, lat: 63.4179966, lng: 10.3518891 },\n        { drones: 0, lat: 63.3982869, lng: 10.3971434 },\n        { drones: 0, lat: 63.4031339, lng: 10.427388 },\n        { drones: 0, lat: 63.3874465, lng: 10.3301954 },\n        { drones: 0, lat: 63.4096514, lng: 10.4184723 },\n        { drones: 0, lat: 63.3951255, lng: 10.3692269 },\n        { drones: 0, lat: 63.3933766, lng: 10.3718019 },\n        { drones: 0, lat: 63.4094977, lng: 10.4439425 },\n        { drones: 0, lat: 63.3911854, lng: 10.4300809 },\n        { drones: 0, lat: 63.4249907, lng: 10.4420114 },\n        { drones: 0, lat: 63.4311337, lng: 10.4508948 },\n        { drones: 0, lat: 63.4347805, lng: 10.4143739 },\n        { drones: 0, lat: 63.4344063, lng: 10.4130435 },\n        { drones: 0, lat: 63.4334658, lng: 10.3962421 },\n        { drones: 0, lat: 63.4313689, lng: 10.39783 },\n        { drones: 0, lat: 63.4302508, lng: 10.3935385 },\n        { drones: 0, lat: 63.4306683, lng: 10.39621 },\n      ],\n      type: 'stroke',\n    }\n    this.timeInterval = 100\n    this.maxAmbulances = 10\n    this.maxDronesPerStation = 3\n    this.speedup = 10\n    this.ambulanceSpeed = 200 * this.speedup\n    this.droneSpeed = 80 * this.speedup\n    this.stationIcon = {\n      url:\n        'https://cdn2.iconfinder.com/data/icons/large-home-icons/512/Drugstore_store_pharmacy_medicine_hospital.png',\n      anchor: { x: 15, y: 25 },\n      scaledSize: { width: 30, height: 30 },\n    }\n    this.droneIcon = {\n      url: 'https://png.pngtree.com/svg/20161124/uav_110217.png',\n      anchor: { x: 15, y: 15 },\n      scaledSize: { width: 30, height: 30 },\n    }\n    this.ambulanceIcon = {\n      url:\n        'http://icons.iconarchive.com/icons/google/noto-emoji-travel-places/1024/42545-ambulance-icon.png',\n      anchor: { x: 15, y: 15 },\n      scaledSize: { width: 30, height: 30 },\n    }\n    this.typeIcons = {\n      heroin: {\n        url: 'https://static.thenounproject.com/png/641158-200.png',\n        anchor: { x: 15, y: 15 },\n        scaledSize: { width: 30, height: 30 },\n      },\n      stroke: {\n        url: 'https://static.thenounproject.com/png/893753-200.png',\n        anchor: { x: 15, y: 15 },\n        scaledSize: { width: 30, height: 30 },\n      },\n      strokeFixed: {\n        url:\n          'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Person_icon_BLACK-01.svg/2000px-Person_icon_BLACK-01.svg.png',\n        anchor: { x: 15, y: 25 },\n        scaledSize: { width: 30, height: 30 },\n      },\n    }\n  }\n\n  onClick(evt) {\n    const lat = evt.latLng.lat()\n    const lng = evt.latLng.lng()\n    const position = { lat, lng }\n    this.setState({ ...this.state, selectedPoint: position })\n\n    if (this.state.type === 'stroke') {\n      const DirectionsService = new window.google.maps.DirectionsService()\n      DirectionsService.route(\n        {\n          origin: new window.google.maps.LatLng(63.420457, 10.3904378),\n          destination: new window.google.maps.LatLng(lat, lng),\n          travelMode: window.google.maps.TravelMode.DRIVING,\n        },\n        (path, status) => {\n          if (status === window.google.maps.DirectionsStatus.OK) {\n            const situations = this.state.situations.slice(0)\n            let stationIndex = -1\n            const { index, dist: stationDist } = this.nearestStation(position)\n            if (\n              stationDist / this.droneSpeed <\n              path.routes[0].legs[0].distance.value / this.ambulanceSpeed\n            ) {\n              stationIndex = index\n            }\n            const stations = this.state.stations.slice(0)\n            if (~stationIndex) stations[stationIndex].drones++\n            situations.push({\n              path,\n              position,\n              time: 0,\n              done: false,\n              waitForAmbulance:\n                this.state.situations.filter(\n                  s => ~s.totalDistance && !s.waitForAmbulance,\n                ).length >= this.maxAmbulances,\n              drone: {\n                station: stationIndex,\n                dist: stationDist,\n                progress: 0,\n                done: false,\n                time: 0,\n              },\n              totalDistance: path.routes[0].legs[0].distance.value,\n              totalDuration: path.routes[0].legs[0].duration.value,\n              pointsInPath: path.routes[0].overview_path.length,\n              type: this.state.type,\n            })\n            this.setState({ ...this.state, situations })\n          }\n        },\n      )\n    } else {\n      const situations = this.state.situations.slice(0)\n      const { index: stationIndex, dist: stationDist } = this.nearestStation(\n        position,\n      )\n      const stations = this.state.stations.slice(0)\n      if (~stationIndex) stations[stationIndex].drones++\n      situations.push({\n        path: null,\n        position,\n        time: 0,\n        done: false,\n        waitForAmbulance: false,\n        drone: {\n          station: stationIndex,\n          dist: stationDist,\n          progress: 0,\n          done: false,\n          time: 0,\n        },\n        totalDistance: -1,\n        totalDuration: -1,\n        pointsInPath: 0,\n        type: this.state.type,\n      })\n      this.setState({ ...this.state, situations })\n    }\n  }\n\n  nearestStation(position) {\n    let minDist = Infinity\n    let minIndex = -1\n    this.state.stations.forEach((station, i) => {\n      const dist = window.google.maps.geometry.spherical.computeDistanceBetween(\n        { lat: () => station.lat, lng: () => station.lng },\n        { lat: () => position.lat, lng: () => position.lng },\n      )\n      if (minDist > dist && station.drones < this.maxDronesPerStation) {\n        minDist = dist\n        minIndex = i\n      }\n    })\n\n    return { index: minIndex, dist: minDist }\n  }\n\n  componentDidMount() {\n    setInterval(() => {\n      const stations = this.state.stations\n      let ambulancesNotUsed =\n        this.maxAmbulances -\n        this.state.situations.filter(\n          s => ~s.totalDistance && !s.waitForAmbulance,\n        ).length\n      const situations = this.state.situations\n        .map(e => {\n          const doneWaiting = e.waitForAmbulance && ambulancesNotUsed > 0\n          if (doneWaiting) ambulancesNotUsed--\n          return {\n            ...e,\n            waitForAmbulance: e.waitForAmbulance && !doneWaiting,\n          }\n        })\n        .map(e => {\n          const direction = e.done ? -1 : 1\n          const droneDirection = e.drone.done ? -1 : 1\n          const droneOnStart =\n            e.drone.done &&\n            ((e.drone.time / 1000) * this.droneSpeed) / 3.6 / e.drone.dist <= 0\n          if (~e.drone.station && droneOnStart) {\n            stations[e.drone.station].drones--\n          }\n          return {\n            ...e,\n            time:\n              e.time +\n              this.timeInterval *\n                direction *\n                (~e.totalDistance ? 1 : 0) *\n                (e.waitForAmbulance ? 0 : 1),\n            drone: {\n              ...e.drone,\n              time:\n                e.drone.time +\n                this.timeInterval * droneDirection * (~e.drone.station ? 1 : 0),\n              done:\n                e.drone.done ||\n                (((e.drone.time + this.timeInterval * droneDirection) / 1000) *\n                  this.droneSpeed) /\n                  3.6 /\n                  e.drone.dist >=\n                  1,\n              station: droneOnStart ? -1 : e.drone.station,\n            },\n            done:\n              e.done ||\n              (((e.time + this.timeInterval * direction) / 1000) *\n                this.ambulanceSpeed) /\n                3.6 /\n                e.totalDistance >=\n                1,\n          }\n        })\n        .filter(e =>\n          ~e.totalDistance\n            ? !(\n                e.done &&\n                ((e.time / 1000) * this.ambulanceSpeed) /\n                  3.6 /\n                  e.totalDistance <=\n                  0\n              )\n            : ~e.drone.station || e.waitForAmbulance,\n        )\n      this.setState({ ...this.state, situations, stations })\n    }, this.timeInterval)\n  }\n\n  handleRadioSelect(type) {\n    this.setState({ ...this.state, type })\n  }\n\n  render() {\n    const markers = this.state.stations.map((e, i) => {\n      return <Marker position={e} key={i} defaultIcon={this.stationIcon} />\n    })\n\n    const paths = this.state.situations\n      .filter(e => !e.done && e.path !== null)\n      .map((e, i) => (\n        <DirectionsRenderer\n          directions={e.path}\n          key={i}\n          options={{ preserveViewport: true, suppressMarkers: true }}\n        />\n      ))\n\n    const droneLines = this.state.situations\n      .filter(e => !e.drone.done && ~e.drone.station)\n      .map((e, i) => (\n        <Polyline\n          path={[this.state.stations[e.drone.station], e.position]}\n          key={i}\n        />\n      ))\n\n    const persons = this.state.situations\n      .filter(\n        e =>\n          (e.type === 'stroke' && (e.waitForAmbulance || !e.done)) ||\n          (e.type === 'heroin' && !e.drone.done),\n      )\n      .map((e, i) => {\n        let icon = e.type\n        if (e.type === 'stroke' && e.drone.done) {\n          icon = 'strokeFixed'\n        }\n        return (\n          <Marker key={i} position={e.position} icon={this.typeIcons[icon]} />\n        )\n      })\n\n    const ambulances = this.state.situations\n      .filter(e => ~e.totalDistance)\n      .map((e, i) => {\n        const progress =\n          ((e.time / 1000) * this.ambulanceSpeed) / 3.6 / e.totalDistance\n        const index = Math.min(\n          e.pointsInPath - 2,\n          parseInt(progress * e.pointsInPath),\n        )\n        const offset = progress * e.pointsInPath - index\n        const lat = e.path.routes[0].overview_path[index].lat()\n        const lng = e.path.routes[0].overview_path[index].lng()\n        const lat2 = e.path.routes[0].overview_path[index + 1].lat()\n        const lng2 = e.path.routes[0].overview_path[index + 1].lng()\n        return (\n          <Marker\n            key={i}\n            position={{\n              lat: lat + (lat2 - lat) * offset,\n              lng: lng + (lng2 - lng) * offset,\n            }}\n            defaultIcon={this.ambulanceIcon}\n          />\n        )\n      })\n\n    const drones = this.state.situations\n      .filter(e => ~e.drone.station)\n      .map((e, i) => {\n        const progress =\n          ((e.drone.time / 1000) * this.droneSpeed) / 3.6 / e.drone.dist\n        const lat = this.state.stations[e.drone.station].lat\n        const lng = this.state.stations[e.drone.station].lng\n        const lat2 = e.position.lat\n        const lng2 = e.position.lng\n        return (\n          <Marker\n            key={i}\n            position={{\n              lat: lat + (lat2 - lat) * progress,\n              lng: lng + (lng2 - lng) * progress,\n            }}\n            defaultIcon={this.droneIcon}\n          />\n        )\n      })\n\n    return (\n      <div className=\"Demo\">\n        <div>\n          <span>\n            Ambulanser ledig:{' '}\n            {this.maxAmbulances -\n              this.state.situations.filter(\n                s => ~s.totalDistance && !s.waitForAmbulance,\n              ).length}{' '}\n            / {this.maxAmbulances}\n          </span>\n          <input\n            type=\"radio\"\n            name=\"type\"\n            defaultChecked={true}\n            id=\"stroke\"\n            onChange={() => this.handleRadioSelect('stroke')}\n          />\n          <label htmlFor=\"stroke\">Hjerteinfarkt</label>\n          <input\n            type=\"radio\"\n            name=\"type\"\n            id=\"heroin\"\n            onChange={() => this.handleRadioSelect('heroin')}\n          />\n          <label htmlFor=\"heroin\">Heroinoverdose (Opioidoverdose)</label>\n        </div>\n        <DemoMap\n          markers={markers}\n          paths={paths}\n          persons={persons}\n          ambulances={ambulances}\n          drones={drones}\n          droneLines={droneLines}\n          stations={this.state.stations}\n          selected={this.state.selectedPoint}\n          onClick={this.onClick.bind(this)}\n          googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyD_QcAdoHfUZgyxnB66tYyRUm6yF759J_o&v=3.exp&libraries=geometry,drawing,places\"\n          loadingElement={<div style={{ height: `100%` }} />}\n          containerElement={\n            <div\n              style={{\n                flex: '1 0 420px',\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            />\n          }\n          mapElement={<div style={{ height: `100%`, flex: '1 0 420px' }} />}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport './Page.css'\n\nexport default class Page extends Component {\n  render() {\n    const style = Object.assign({}, this.props.style, {\n      color: this.props.color || 'white',\n    })\n    return (\n      <div\n        className={`Page ${this.props.page}`}\n        ref={e => this.props.refCallback(e)}\n        style={style}\n        page={this.props.page}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class Jump extends Component {\n  render() {\n    return (\n      <a\n        className={`Jump${this.props.selected ? ' selected' : ''}`}\n        href={`#${this.props.to}`}\n        ref={e => this.props.refCallback(e)}\n        onClick={() => this.props.onClick(this.props.to)}\n      >\n        {this.props.content || this.props.children}\n      </a>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport './Tabs.css'\n\nexport default class Tabs extends Component {\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.scroll !== this.props.scroll) {\n      let left = 0\n      let width = 100\n      if (nextProps.scroll) {\n        const rect = nextProps.scroll.getBoundingClientRect()\n        left = rect.left\n        width = rect.width\n      }\n      if (this.ref) {\n        if (left < 0 || left + width > this.ref.offsetWidth) {\n          this.ref.scrollLeft = this.ref.scrollLeft + left\n        }\n      }\n    }\n  }\n\n  getRef(ref) {\n    if (ref !== null) {\n      this.ref = ref\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Tabs\" ref={this.getRef.bind(this)}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport './FadeInBlock.css'\n\nexport default class FadeInBlock extends Component {\n  render() {\n    return (\n      <div className=\"FadeInBlock\" {...this.props}>\n        <h3>{this.props.title}</h3>\n        <p>{this.props.children}</p>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport scrollToComponent from 'react-scroll-to-component'\nimport './App.css'\n\nimport Demo from './Demo'\nimport Page from './Page'\nimport Jump from './Jump'\nimport Tabs from './Tabs'\nimport FadeInBlock from './FadeInBlock'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showDemo: true,\n      selected: 'hjem',\n    }\n    this.pagePositions = {}\n    this.pages = {}\n    this.tabs = {}\n    this.refPage = this.refPage.bind(this)\n    this.refTab = this.refTab.bind(this)\n    this.hasMounted = false\n  }\n\n  refPage(page) {\n    if (page !== null) {\n      const { top } = page.getBoundingClientRect()\n      const id = page.getAttribute('page')\n      this.pagePositions[id] = top + document.documentElement.scrollTop\n      this.pages[id] = page\n    }\n  }\n\n  refTab(tab) {\n    if (tab !== null) {\n      const id = tab.getAttribute('href').slice(1)\n      this.tabs[id] = tab\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.handleScroll.bind(this))\n    this.hasMounted = true\n\n    if (window.location.hash) {\n      setTimeout(() => {\n        scrollToComponent(this.pages[window.location.hash.slice(1)], {\n          offset: 0,\n          align: 'top',\n          duration: 0,\n        })\n      }, 1000)\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll.bind(this))\n  }\n\n  handleScroll() {\n    const y = window.scrollY + 60\n    let prevPage = this.state.selected\n    let currentPage = this.state.selected\n    for (const key in this.pagePositions) {\n      if (this.pagePositions[key] > y) {\n        break\n      }\n      currentPage = key\n    }\n    if (prevPage !== currentPage) {\n      window.location.href = '#' + currentPage\n      this.setState({ ...this.state, selected: currentPage })\n    }\n  }\n\n  scroll(page) {\n    scrollToComponent(this.pages[page], {\n      offset: 0,\n      align: 'top',\n      duration: 500,\n      ease: 'inOutSine',\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Page color=\"white\" page=\"hjem\" refCallback={this.refPage}>\n          <div className=\"logo\">\n            <h1 className=\"name\">eDrone</h1>\n            <img\n              className=\"image\"\n              alt=\"eDrone logo\"\n              src={process.env.PUBLIC_URL + 'logo.svg'}\n            />\n          </div>\n          <h1>Fremtidens akuttmottak</h1>\n          <p>\n            Dette er en alternativ presentasjonsform i EiT fra gruppe 5 i\n            landsbyen for Fremtidens Smarte Sykehus.\n          </p>\n        </Page>\n\n        <Tabs scroll={this.tabs[this.state.selected.split('-')[0]]}>\n          <Jump\n            to=\"edrone\"\n            refCallback={this.refTab}\n            selected={this.state.selected === 'edrone'}\n            onClick={this.scroll.bind(this)}\n          >\n            Hva er eDrone?\n          </Jump>\n          <Jump\n            to=\"om\"\n            refCallback={this.refTab}\n            selected={this.state.selected === 'om'}\n            onClick={this.scroll.bind(this)}\n          >\n            Menneskene bak\n          </Jump>\n          <Jump\n            to=\"tidslinje\"\n            refCallback={this.refTab}\n            selected={this.state.selected.slice(0, 9) === 'tidslinje'}\n            onClick={this.scroll.bind(this)}\n          >\n            Hva kan eDrone gjøre?\n          </Jump>\n          <Jump\n            to=\"demo\"\n            refCallback={this.refTab}\n            selected={this.state.selected === 'demo'}\n            onClick={this.scroll.bind(this)}\n          >\n            Interaktiv demo\n          </Jump>\n        </Tabs>\n\n        <Page color=\"white\" page=\"edrone\" refCallback={this.refPage}>\n          <h2>Hva er eDrone?</h2>\n          <p>asdasdasd</p>\n        </Page>\n\n        <Page color=\"white\" page=\"om\" refCallback={this.refPage}>\n          <h2>Menneskene bak</h2>\n          <h3 className=\"no-bottom\">Andrea Lilleeidet Røyland </h3>\n          <p className=\"no-top\">Medisin</p>\n          <h3 className=\"no-bottom\">Ingrid Andrea Legran</h3>\n          <p className=\"no-top\">Arbeids- og organisasjonspsykologi</p>\n          <h3 className=\"no-bottom\">Nana Aanderaa</h3>\n          <p className=\"no-top\">Medisin</p>\n          <h3 className=\"no-bottom\">Niklas Molnes Hole </h3>\n          <p className=\"no-top\">Informatikk</p>\n          <h3 className=\"no-bottom\">Paul-Alexandre Nordlund</h3>\n          <p className=\"no-top\">Medisin</p>\n          <h3 className=\"no-bottom\">Åsmund Heir</h3>\n          <p className=\"no-top\">Industriell økonomi og teknologiledelse</p>\n        </Page>\n\n        <Page color=\"white\" page=\"tidslinje\" refCallback={this.refPage}>\n          <h2 className=\"no-bottom\">eDrone i behandling av</h2>\n          <h1 className=\"no-top no-bottom\">Opioidoverdoser</h1>\n          <p>Pårørende oppdager en overdose</p>\n          <FadeInBlock side=\"right\" title=\"Symptomer\">\n            Opioidoverdoser kjennetegnes av nedsatt bevissthet og nedsatt.\n            respirasjon\n          </FadeInBlock>\n          <FadeInBlock side=\"left\" title=\"En livstruende tilstand\">\n            Ved en overdose med opioider slutter pasienten å puste.\n          </FadeInBlock>\n          <FadeInBlock side=\"right\" title=\"263 overdosedødsfall i året\">\n            I Norge dør det i snitt 263 personer av overdoser hvert år.\n          </FadeInBlock>\n        </Page>\n\n        <Page color=\"white\" page=\"tidslinje-2\" refCallback={this.refPage}>\n          <h2 className=\"no-bottom\">Pårørende ringer</h2>\n          <h1 className=\"no-top no-bottom big\">113</h1>\n          <FadeInBlock side=\"left\" title=\"Dronepilot\">\n            En dronepilot styrer eDrone etter instruks fra AMK og flyr dronen\n            til rett sted.\n          </FadeInBlock>\n          <FadeInBlock side=\"right\" title=\"Responstid på to minutter\">\n            eDrone kan fly med en maks hastighet på 160 km/t og nå ulykkesstedet\n            på rundt to minutter. Vanlig responstid med ambulanser ved overdoser\n            er under åtte minutter i storbyene.\n          </FadeInBlock>\n          <FadeInBlock side=\"left\" title=\"Droneplassering\">\n            En eDrone per apotek er mer enn nok til å dekke hele Trondheim.\n            Ambulansen drifter og apoteket kan fylle på med nødvendig utstyr og\n            medikamenter.\n          </FadeInBlock>\n        </Page>\n\n        <Page color=\"white\" page=\"tidslinje-3\" refCallback={this.refPage}>\n          <h1>eDrone ankommer ulykkesstedet</h1>\n          <FadeInBlock side=\"left\" title=\"Kommunikasjonsutstyr og videokamera\">\n            Dronen er utstyrt med videokamera og kommunikasjonsutstyr som kan\n            overvåke pasienten og veilede de som meldte inn overdosen.\n          </FadeInBlock>\n          <FadeInBlock side=\"right\" title=\"Vurdering av pasientens tilstand\">\n            Dronen har med medisinsk utstyr som EKG- måler og pulsokismeter som\n            gir viktig info om pasientens tilstand til ambulansen.\n          </FadeInBlock>\n          <FadeInBlock side=\"left\" title=\"Administrering av motgiften NACRAN©\">\n            Etter at en overdose har blitt konstatert, får pårørende tilgang til\n            NARCAN © fra dronen. NARCAN © er en nesespray som inneholder en\n            motgift som reverserer effekten av opioider. Nesesprayen er enkel i\n            bruk og kan gis av personer som ikke er helsepersonell.\n          </FadeInBlock>\n          <FadeInBlock side=\"right\" title=\"Effekt av motgift\">\n            Nesesprayen virker raskt og flesteparten vil få tilbake respirasjon\n            etter noen minutter. Hvis ikke kan dronen instruere pårørende til å\n            starte hjerte-lunge redning i påvente av ambulanse evt. gi ny dose\n            NARCAN©.\n          </FadeInBlock>\n        </Page>\n\n        <Page color=\"white\" page=\"tidslinje-4\" refCallback={this.refPage}>\n          <h1>Hva skjer videre med pasienten?</h1>\n          <FadeInBlock side=\"left\">\n            Hva som skjer etter behandling med nesespray avhenger av pasientens\n            tilstand etter endt behandling. Hvis pasienten ikke viser tegn til\n            bedring, sendes en ambulanse til stedet.\n          </FadeInBlock>\n          <FadeInBlock side=\"right\">\n            Pasienter som ikke får tilfredsstillende bedring etter endt\n            behandling blir vurdert av ambulansepersonell og evt. Sendt videre\n            til sykehus for videre behandling.\n          </FadeInBlock>\n          <FadeInBlock side=\"left\">\n            Friske pasienter blir overvåket av dronen i to timer. Alle får\n            tilbud om oppfølging av spesialisthelsetjeneste i etterkant av en\n            overdose.\n          </FadeInBlock>\n        </Page>\n\n        <Page\n          color=\"white\"\n          page=\"demo\"\n          refCallback={this.refPage}\n          style={{ padding: '0' }}\n        >\n          {this.state.showDemo ? <Demo /> : null}\n        </Page>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}